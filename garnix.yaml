builds:
  # build x86_64 & aarch64 on main
  - include:
      - '*.x86_64-linux.*'
      - 'packages.aarch64-linux.*'
      - 'devShell.x86_64-linux'
      - 'devShell.aarch64-linux'
      - 'homeConfigurations.*'
      - 'nixosConfigurations.*'
    exclude:
      - 'checks.aarch64-linux.biome-lint'
      - 'checks.aarch64-linux.go-staticcheck'
      - 'checks.aarch64-linux.go-test'
      - 'checks.aarch64-linux.go-vet'
      - 'checks.aarch64-linux.nil'
      - 'checks.aarch64-linux.ssz-tests-up-to-date'
      - 'checks.*.ensure-blocks'
      - 'checks.*.epoch-completes'
      - 'checks.*.forced-set-rotation'
      - 'checks.*.rust-proto-check'
      - 'checks.*.sepolia-runs'
      - 'checks.*.union-runs'
      - 'checks.*.upgrade-from-genesis'
      - 'checks.*.upgrade-with-tokenfactory-state'
      - 'checks.*.virtualisation-works'
      - 'packages.aarch64-linux.devnet-eth'
      - 'packages.aarch64-linux.docgen-update'
      - 'packages.aarch64-linux.evm-contracts'
      - 'packages.aarch64-linux.evm-deployer-image'
      - 'packages.aarch64-linux.full-dev-setup'
      - 'packages.aarch64-linux.generate-ssz-compliance-tests'
      - 'packages.aarch64-linux.solidity-coverage'
      - 'packages.aarch64-linux.show-solidity-coverage'
      - 'packages.*.devnet-osmosis-home'
      - 'packages.*.devnet-simd-home'
      - 'packages.*.devnet-stargaze-home'
      - 'packages.*.devnet-union-home'
      - 'packages.*.docgen'
      - 'packages.*.download-circuit'
      - 'packages.*.eth-deploy-arbitrum-devnet-full'
      - 'packages.*.eth-deploy-arbitrum-devnet-multicall'
      - 'packages.*.eth-deploy-arbitrum-testnet-full'
      - 'packages.*.eth-deploy-arbitrum-testnet-multicall'
      - 'packages.*.eth-deploy-berachain-devnet-full'
      - 'packages.*.eth-deploy-berachain-devnet-multicall'
      - 'packages.*.eth-deploy-berachain-testnet-full'
      - 'packages.*.eth-deploy-berachain-testnet-multicall'
      - 'packages.*.eth-deploy-devnet-full'
      - 'packages.*.eth-deploy-devnet-multicall'
      - 'packages.*.eth-deploy-scroll-testnet-full'
      - 'packages.*.eth-deploy-scroll-testnet-multicall'
      - 'packages.*.eth-deploy-testnet-full'
      - 'packages.*.eth-deploy-testnet-multicall'
      - 'packages.*.eth-dryupgrade-arbitrum-devnet-ibc'
      - 'packages.*.eth-dryupgrade-arbitrum-devnet-ucs01'
      - 'packages.*.eth-dryupgrade-arbitrum-testnet-ibc'
      - 'packages.*.eth-dryupgrade-arbitrum-testnet-ucs01'
      - 'packages.*.eth-dryupgrade-berachain-devnet-ibc'
      - 'packages.*.eth-dryupgrade-berachain-devnet-ucs01'
      - 'packages.*.eth-dryupgrade-berachain-testnet-ibc'
      - 'packages.*.eth-dryupgrade-berachain-testnet-ucs01'
      - 'packages.*.eth-dryupgrade-devnet-ibc'
      - 'packages.*.eth-dryupgrade-devnet-ucs01'
      - 'packages.*.eth-dryupgrade-scroll-testnet-ibc'
      - 'packages.*.eth-dryupgrade-scroll-testnet-ucs01'
      - 'packages.*.eth-dryupgrade-testnet-ibc'
      - 'packages.*.eth-dryupgrade-testnet-ucs01'
      - 'packages.*.eth-upgrade-arbitrum-devnet-ibc'
      - 'packages.*.eth-upgrade-arbitrum-devnet-ucs01'
      - 'packages.*.eth-upgrade-arbitrum-testnet-ibc'
      - 'packages.*.eth-upgrade-arbitrum-testnet-ucs01'
      - 'packages.*.eth-upgrade-berachain-devnet-ibc'
      - 'packages.*.eth-upgrade-berachain-devnet-ucs01'
      - 'packages.*.eth-upgrade-berachain-testnet-ibc'
      - 'packages.*.eth-upgrade-berachain-testnet-ucs01'
      - 'packages.*.eth-upgrade-devnet-ibc'
      - 'packages.*.eth-upgrade-devnet-ucs01'
      - 'packages.*.eth-upgrade-scroll-testnet-ibc'
      - 'packages.*.eth-upgrade-scroll-testnet-ucs01'
      - 'packages.*.eth-upgrade-testnet-ibc'
      - 'packages.*.eth-upgrade-testnet-ucs01'
      - 'packages.*.evm-contracts-addresses'
      - 'packages.*.fetch-membership-data'
      - 'packages.*.fetchRustStdCargoLock'
      - 'packages.*.fuzz'
      - 'packages.*.galoisd-testnet-standalone'
      - 'packages.*.generate-openapi'
      - 'packages.*.generate-prover-proto'
      - 'packages.*.generate-rust-proto'
      - 'packages.*.generate-rust-sol-bindings'
      - 'packages.*.generate-sol-proto'
      - 'packages.*.gen-eth-lc-update-test-data'
      - 'packages.*.gen-proto'
      - 'packages.*.go-vendor'
      - 'packages.*.hubble-abis'
      - 'packages.*.rust-sol-bindings'
      - 'packages.*.site'
      - 'packages.*.uniond-release'
      - 'packages.*.uniond-release-image'
      - 'packages.*.voyager'
      - 'packages.*.voyager-dev'
    branch: main
  # build x86_64 on all branches
  - include:
      - '*.x86_64-linux.*'
      - 'devShell.x86_64-linux'
      - 'homeConfigurations.*'
      - 'nixosConfigurations.*'
    exclude:
      - 'checks.*.ensure-blocks'
      - 'checks.*.epoch-completes'
      - 'checks.*.forced-set-rotation'
      - 'checks.*.rust-proto-check'
      - 'checks.*.sepolia-runs'
      - 'checks.*.union-runs'
      - 'checks.*.upgrade-from-genesis'
      - 'checks.*.upgrade-with-tokenfactory-state'
      - 'checks.*.virtualisation-works'
      - 'packages.*.devnet-osmosis-home'
      - 'packages.*.devnet-simd-home'
      - 'packages.*.devnet-stargaze-home'
      - 'packages.*.devnet-union-home'
      - 'packages.*.docgen'
      - 'packages.*.download-circuit'
      - 'packages.*.eth-deploy-arbitrum-devnet-full'
      - 'packages.*.eth-deploy-arbitrum-devnet-multicall'
      - 'packages.*.eth-deploy-arbitrum-testnet-full'
      - 'packages.*.eth-deploy-arbitrum-testnet-multicall'
      - 'packages.*.eth-deploy-berachain-devnet-full'
      - 'packages.*.eth-deploy-berachain-devnet-multicall'
      - 'packages.*.eth-deploy-berachain-testnet-full'
      - 'packages.*.eth-deploy-berachain-testnet-multicall'
      - 'packages.*.eth-deploy-devnet-full'
      - 'packages.*.eth-deploy-devnet-multicall'
      - 'packages.*.eth-deploy-scroll-testnet-full'
      - 'packages.*.eth-deploy-scroll-testnet-multicall'
      - 'packages.*.eth-deploy-testnet-full'
      - 'packages.*.eth-deploy-testnet-multicall'
      - 'packages.*.eth-dryupgrade-arbitrum-devnet-ibc'
      - 'packages.*.eth-dryupgrade-arbitrum-devnet-ucs01'
      - 'packages.*.eth-dryupgrade-arbitrum-testnet-ibc'
      - 'packages.*.eth-dryupgrade-arbitrum-testnet-ucs01'
      - 'packages.*.eth-dryupgrade-berachain-devnet-ibc'
      - 'packages.*.eth-dryupgrade-berachain-devnet-ucs01'
      - 'packages.*.eth-dryupgrade-berachain-testnet-ibc'
      - 'packages.*.eth-dryupgrade-berachain-testnet-ucs01'
      - 'packages.*.eth-dryupgrade-devnet-ibc'
      - 'packages.*.eth-dryupgrade-devnet-ucs01'
      - 'packages.*.eth-dryupgrade-scroll-testnet-ibc'
      - 'packages.*.eth-dryupgrade-scroll-testnet-ucs01'
      - 'packages.*.eth-dryupgrade-testnet-ibc'
      - 'packages.*.eth-dryupgrade-testnet-ucs01'
      - 'packages.*.eth-upgrade-arbitrum-devnet-ibc'
      - 'packages.*.eth-upgrade-arbitrum-devnet-ucs01'
      - 'packages.*.eth-upgrade-arbitrum-testnet-ibc'
      - 'packages.*.eth-upgrade-arbitrum-testnet-ucs01'
      - 'packages.*.eth-upgrade-berachain-devnet-ibc'
      - 'packages.*.eth-upgrade-berachain-devnet-ucs01'
      - 'packages.*.eth-upgrade-berachain-testnet-ibc'
      - 'packages.*.eth-upgrade-berachain-testnet-ucs01'
      - 'packages.*.eth-upgrade-devnet-ibc'
      - 'packages.*.eth-upgrade-devnet-ucs01'
      - 'packages.*.eth-upgrade-scroll-testnet-ibc'
      - 'packages.*.eth-upgrade-scroll-testnet-ucs01'
      - 'packages.*.eth-upgrade-testnet-ibc'
      - 'packages.*.eth-upgrade-testnet-ucs01'
      - 'packages.*.evm-contracts-addresses'
      - 'packages.*.fetch-membership-data'
      - 'packages.*.fetchRustStdCargoLock'
      - 'packages.*.fuzz'
      - 'packages.*.galoisd-testnet-standalone'
      - 'packages.*.generate-openapi'
      - 'packages.*.generate-prover-proto'
      - 'packages.*.generate-rust-proto'
      - 'packages.*.generate-rust-sol-bindings'
      - 'packages.*.generate-sol-proto'
      - 'packages.*.gen-eth-lc-update-test-data'
      - 'packages.*.gen-proto'
      - 'packages.*.go-vendor'
      - 'packages.*.hubble-abis'
      - 'packages.*.rust-sol-bindings'
      - 'packages.*.site'
      - 'packages.*.uniond-release'
      - 'packages.*.uniond-release-image'
      - 'packages.*.voyager'
      - 'packages.*.voyager-dev'
enableGithubOrgAccessTokens: true
